---
import {comment} from "../consts";
---

<div id="waline"/>

<script>
  import {init} from "@waline/client";
  import {comment} from "../consts";
  import '@waline/client/style';

  let walineDoc = document.getElementById('waline')
  if (comment.enable && walineDoc) {
    init({
      el: "#waline",
      comment: true,
      path: window.location.pathname.replace(/\/$/, ""),
      serverURL: comment.serverUrl,
      lang: comment.lang,
      pageSize: comment.pageSize,
      pageview: comment.pageview, // 浏览量统计
      reaction: comment.whiteList.includes(location.pathname) ? false : comment.reaction, // 开启反应
      requiredMeta: comment.requiredMeta,
      dark: 'html[data-theme="dark"]',
    });
  }
</script>
